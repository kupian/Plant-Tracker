{% extends "layout.html" %}

{% block main %}

<div class="container">
    <form id="form" action="/register" method="post">
        <div class="mb-3">
            <input id="email" class="form-control" name="email" type="email" placeholder="Email Address" autofocus>
        </div>
        <div class="mb-3">
            <input id="username" class="form-control" name="username" type="text" placeholder="Username">
        </div>
        <div class="mb-3">
            <input id="password" class="form-control" name="password" type="password" placeholder="Password">
        </div>
        <div class="mb-3">
            <input id="confirmation" class="form-control" name="confirmation" type="password" placeholder="Confirm Password">
        </div>
        <div id="formtext" class="form-text" style="color: red;"></div>
        <button id="submit "class="btn btn-primary" type="submit">Register</button>  
    </form>
</div>

<script>
    $(document).ready(function() {
        $('#submit').click(function () {       
            form = $("#form");
            email = $("#email").value;
            username = $("#username").value;
            password = $("#password").value;
            conirmation = $("#confirmation").value;
            $.ajax({
                url: '/register',
                data: $('form').serialize(),
                type: 'POST',
                success: function(json) {
                    let text = JSON.parse(json);
                    alert(data);
                }
            })
        })
    })
</script>

{% endblock %}